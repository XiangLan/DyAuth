function requestQuestion(SL){	var url = "requestQuestion.php";//此处应该写成文件在服务器的url	var xmlHttp;	if(window.ActiveXObject){		xmlHttp = new ActiveXObject("Microsoft.XMLHttp");	}else if(window.XMLHttpRequest){		xmlHttp = new XMLHttpRequest();	}	var param = "SL="+SL;	xmlHttp.onreadystatechange = function(){		if(xmlHttp.readyState == 4){			if(xmlHttp.status == 200){				var response = xmlHttp.responseText;				if(response == -1){					console.log(response);					//alert("There is no user using this phone number, please register first.");					$("#notExist").html("No such phone number in DyAuth");					$("#notExist").show();					$("#block-q").hide();					$("#block-a").hide();				}else{					console.log(response);					var question_json = eval("("+response+")");					//activity_id = question_json['activity_id'];					if(question_json['isQuestion']==1){//表示有该SL的问题						$("#notExist").hide();						$("#question").html(question_json['question']);						$("#block-q").show();						$("#block-a").show();					}else{						$("#notExist").hide();						$("#question").html("No related question about you..");						$("#block-q").show();					}				}			}		}	}	xmlHttp.open("POST",url);	xmlHttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");	xmlHttp.send(param);}//用于向服务器发送用户所填的答案，并获得正确与否的验证信息function sendAnswer(user_name){	var answer = document.getElementById("answer").value;	var url = "sendAnswer.php";//此处应该写成文件在服务器的url	//var thirdPartyName = "Amazon";//此处是第三方的名字	var xmlHttp;	if(window.ActiveXObject){		xmlHttp = new ActiveXObject("Microsoft.XMLHttp");	}else if(window.XMLHttpRequest){		xmlHttp = new XMLHttpRequest();	}	var param = "answer="+answer;	xmlHttp.onreadystatechange = function(){		if(xmlHttp.readyState == 4){			if(xmlHttp.status == 200){				var response = xmlHttp.responseText;				console.log(response);				var answer_json = eval("("+response+")");								//检验答案是否正确			if(answer_json['correctness']==true){//如果正确							$("#answer-control").append('<img class="right" src="img/right.png" style="vertical-align: text-bottom;">');				checked = 1;			}else{//如果错误								$("#answer-control").append('<p class="wrong" style="color:red;">Wrong answer. Please try again.</p>');				checked = 0;				}			}		}	}	xmlHttp.open("POST",url);	xmlHttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");	xmlHttp.send(param);}//随机再换一个问题function requestAnotherQuestion(SL){$("#notExist").hide();//console.log("user_name:"+user_name);	var url = "requestQuestion.php";//此处应该写成文件在服务器的url	var xmlHttp;	if(window.ActiveXObject){		xmlHttp = new ActiveXObject("Microsoft.XMLHttp");	}else if(window.XMLHttpRequest){		xmlHttp = new XMLHttpRequest();	}	var param = "SL="+SL;	xmlHttp.onreadystatechange = function(){		if(xmlHttp.readyState == 4){			if(xmlHttp.status == 200){				var response = xmlHttp.responseText;				console.log(response);				var question_json = eval("("+response+")");				//activity_id = question_json['activity_id'];				if(question_json['isQuestion']==1){//表示有该SL的问题					$("#question").html(question_json['question']);									}			}		}	}	xmlHttp.open("POST",url);	xmlHttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");	xmlHttp.send(param);}$(document).ready(function(){	$("#answer").blur(function(){//输完答案以后进行检查		sendAnswer($("#inputTel").val())				});	$("#answer").focus(function(){//输答案的时候把之前的提示去掉		$(".right").remove();		$(".wrong").remove();	}); 	$("#question").click(function(){//换个问题		//var tel=$("#inputTel").val();		//alert("!!!!!!!!!!!!!!");		requestAnotherQuestion(2);	}); 	$("#signUp").click(function(){//换个问题		//var tel=$("#inputTel").val();		window.location = "signUpDyAuth.html";	});	requestQuestion(2);});